$[log]
$[foreach entity in space.entities]
  $[if !entity.hasTag("release:top") || !entity.hasRelationshipToEntityTagged("release:version")]
    $[continue]
  $[/if]
  $[let versionEntity = entity.relationshipToEntityTagged("release:version").to.entity]
  $[if !versionEntity.hasRelationshipToEntityTagged("release:object")]
    $[continue]
  $[/if]
  $[let objectEntity = versionEntity.relationshipToEntityTagged("release:object").to.entity]
Release entity ${entity.name} releases versions ${versionEntity.name} of object ${objectEntity.name}.
$[/foreach]
$[foreach entity in space.entities]
  $[foreach attribute in entity.attributes]
    $[if attribute.secondaryEntityIsTagged("s3:file") || attribute.secondaryEntityIsTagged("asset")]
      $[let assetEntity = attribute.typeEntity]
      $[if attribute.secondaryEntityIsTagged("s3:file") && !assetEntity.hasAttributeTagged("url")]
        $[log error]In entity ${entity.name}: The S3 file asset entity ${assetEntity.name} of attribute ${attribute.name} does not have an attribute tagged "url"$[/log]
      $[/if]
      $[let features = @[]@]
      $[if assetEntity.hasAttributeTagged("s3:bucket") && assetEntity.hasAttributeTagged("s3:path")]
        $[do features.add("S3 bucket and path")]
      $[/if]
      $[if assetEntity.hasAttributeTagged("hash:md5")]
        $[do features.add("MD5 Hash")]
      $[/if]
      $[if assetEntity.hasAttributeTagged("size")]
        $[do features.add("File size")]
      $[/if]
      $[if features.count > 0]
  The file asset associated with attribute ${attribute.name} of entity ${entity.name} will keep track of its:
        $[foreach feature in features.values]
    ${feature}
        $[/foreach]
      $[/if]
    $[/if]
  $[/foreach]
$[/foreach]
$[/log]